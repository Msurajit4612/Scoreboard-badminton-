<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced Badminton Scoreboard</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif;}

body{
    background:linear-gradient(135deg,#0f0f0f,#1c1c1c,#000);
    color:white;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    height:100vh;
}

h1{color:#ffcc00;margin-bottom:15px;}

.config-box{
    background:#111;
    padding:15px 25px;
    border-radius:15px;
    box-shadow:0 0 15px rgba(255,204,0,0.3);
    margin-bottom:20px;
    display:flex;
    gap:20px;
    align-items:center;
}

.config-box select, .config-box input{
    padding:8px 12px;
    font-size:16px;
    border-radius:8px;
    border:none;
}

.board{
    display:flex;
    width:95%;
    max-width:1400px;
    gap:30px;
}

.team{
    flex:1;
    background:#111;
    border-radius:25px;
    padding:25px;
    box-shadow:0 0 25px rgba(255,204,0,0.2);
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    align-items:center;
    position:relative;
}

.names input{
    width:90%;
    padding:10px;
    margin:6px 0;
    font-size:20px;
    text-align:center;
    border-radius:10px;
    border:none;
}

.score{
    font-size:140px;
    font-weight:bold;
    transition:0.3s;
}

.red{
    color:#ff2e2e;
    text-shadow:0 0 20px red;
}

.serve{
    position:absolute;
    top:20px;
    right:25px;
    font-size:45px;
    display:none;
}

.controls{
    display:flex;
    gap:15px;
}

button{
    padding:18px 28px;
    font-size:22px;
    border:none;
    border-radius:12px;
    cursor:pointer;
}

.add{background:#00c853;}
.minus{background:#d50000;}

.history{
    margin-top:20px;
    font-size:22px;
    color:#ffcc00;
    min-height:60px;
}

.alert{
    color:#ff2e2e;
    font-weight:bold;
    height:30px;
}
</style>
</head>

<body>

<h1>üè∏ CONFIGURABLE MATCH SCOREBOARD</h1>

<div class="config-box">
    Game To:
    <select id="gamePointSelect">
        <option value="11">11</option>
        <option value="15">15</option>
        <option value="21" selected>21</option>
    </select>

    Mode:
    <select id="modeSelect" onchange="updateMode()">
        <option value="doubles" selected>Doubles</option>
        <option value="singles">Singles</option>
    </select>
</div>

<div class="board">

<div class="team" id="leftTeam">
    <div class="serve" id="serve1">üè∏</div>
    <div class="names" id="leftNames">
        <input placeholder="Player A1">
        <input placeholder="Player A2">
    </div>
    <div class="score" id="score1">0</div>
    <div class="controls">
        <button class="add" onclick="addPoint(1)">+</button>
        <button class="minus" onclick="minusPoint(1)">-</button>
    </div>
</div>

<div class="team" id="rightTeam">
    <div class="serve" id="serve2">üè∏</div>
    <div class="names" id="rightNames">
        <input placeholder="Player B1">
        <input placeholder="Player B2">
    </div>
    <div class="score" id="score2">0</div>
    <div class="controls">
        <button class="add" onclick="addPoint(2)">+</button>
        <button class="minus" onclick="minusPoint(2)">-</button>
    </div>
</div>

</div>

<div class="alert" id="alertText"></div>
<div class="history" id="historyBox"></div>

<script>

let score1=0, score2=0;
let server=1;
let history=[];

updateServe();

function getGamePoint(){
    return parseInt(document.getElementById("gamePointSelect").value);
}

function getCap(){
    return getGamePoint()+9;
}

function addPoint(team){
    if(team===1) score1++;
    else score2++;

    server=team;
    updateServe();
    checkGamePoint();
    checkWin();
    updateDisplay();
}

function minusPoint(team){
    if(team===1 && score1>0) score1--;
    if(team===2 && score2>0) score2--;
    checkGamePoint();
    updateDisplay();
}

function checkGamePoint(){

    let s1=document.getElementById("score1");
    let s2=document.getElementById("score2");
    let alert="";
    let game=getGamePoint();

    s1.classList.remove("red");
    s2.classList.remove("red");

    if(score1>=game-1 || score2>=game-1){

        if(score1===score2){
            alert="DEUCE";
        }
        else if(score1>score2){
            alert="GAME POINT - LEFT";
            s1.classList.add("red");
        }
        else{
            alert="GAME POINT - RIGHT";
            s2.classList.add("red");
        }

        if(score1===getCap()-1 && score2===getCap()-1){
            alert="NEXT POINT WINS";
            s1.classList.add("red");
            s2.classList.add("red");
        }
    }

    document.getElementById("alertText").innerText=alert;
}

function checkWin(){

let game=getGamePoint();
let cap=getCap();

if((score1>=game || score2>=game) && Math.abs(score1-score2)>=2){
    saveSet();
}

if(score1===cap || score2===cap){
    saveSet();
}

}

function saveSet(){
    history.push(score1+"-"+score2);
    document.getElementById("historyBox").innerHTML=history.join("<br>");
    score1=0;score2=0;
    document.getElementById("alertText").innerText="";
}

function updateDisplay(){
    document.getElementById("score1").innerText=score1;
    document.getElementById("score2").innerText=score2;
}

function updateServe(){
    document.getElementById("serve1").style.display = server===1?"block":"none";
    document.getElementById("serve2").style.display = server===2?"block":"none";
}

function updateMode(){
    let mode=document.getElementById("modeSelect").value;

    if(mode==="singles"){
        document.getElementById("leftNames").innerHTML =
            '<input placeholder="Player A">';
        document.getElementById("rightNames").innerHTML =
            '<input placeholder="Player B">';
    }
    else{
        document.getElementById("leftNames").innerHTML =
            '<input placeholder="Player A1"><input placeholder="Player A2">';
        document.getElementById("rightNames").innerHTML =
            '<input placeholder="Player B1"><input placeholder="Player B2">';
    }
}

</script>

</body>
</html>

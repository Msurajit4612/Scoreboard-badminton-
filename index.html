<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>International Badminton Scoreboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color:white;
    overflow:hidden;
}

/* HEADER */
.header{
    text-align:center;
    padding:15px;
    font-size:28px;
    font-weight:bold;
    background:linear-gradient(90deg,#00c6ff,#0072ff);
}

/* CONTROL BAR */
.controls{
    background:#111;
    padding:10px;
    text-align:center;
}

select, button{
    padding:6px 10px;
    margin:5px;
    font-size:15px;
    border-radius:6px;
    border:none;
}

.reset{
    background:orange;
    font-weight:bold;
}

/* BOARD */
.board{
    display:flex;
    justify-content:space-between;
    align-items:center;
    height:60vh;
    padding:25px;
}

/* TEAM PANEL */
.team{
    width:40%;
    background:rgba(255,255,255,0.08);
    backdrop-filter:blur(15px);
    border-radius:25px;
    padding:25px;
    text-align:center;
    box-shadow:0 0 30px rgba(0,0,0,0.7);
}

.names{
    font-size:20px;
    margin-bottom:10px;
    cursor:pointer;
    border-bottom:1px dashed #aaa;
    padding:5px;
}

.score{
    font-size:120px;
    font-weight:bold;
    margin:15px 0;
}

.red{color:#ff3b3b;}
.white{color:white;}

.matchPoint{
    color:#ff0000;
    text-shadow:0 0 20px red;
}

.btn{
    padding:15px 25px;
    font-size:22px;
    border:none;
    border-radius:10px;
    margin:8px;
    cursor:pointer;
}

.plus{background:#00c853;}
.minus{background:#d50000;}

.serve{
    font-size:40px;
    height:45px;
}

/* SET DISPLAY */
.setContainer{
    background:#000;
    padding:20px;
    display:flex;
    justify-content:center;
    gap:20px;
}

.setScore{
    background:#1f1f1f;
    padding:15px 30px;
    border-radius:15px;
    font-size:32px;
    font-weight:bold;
}

/* MODAL */
.modal{
    display:none;
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background:rgba(0,0,0,0.8);
    justify-content:center;
    align-items:center;
}

.modalContent{
    background:#222;
    padding:25px;
    border-radius:20px;
    text-align:center;
    width:300px;
}

.modalContent input{
    width:90%;
    padding:8px;
    margin:5px 0;
    font-size:16px;
}

.saveBtn{
    background:#00c853;
    padding:8px 20px;
    border:none;
    border-radius:8px;
    color:white;
    font-size:16px;
}
</style>
</head>

<body>

<div class="header">üè∏ INTERNATIONAL BADMINTON SCOREBOARD</div>

<div class="controls">
Game:
<select id="gamePoint">
<option value="11">11</option>
<option value="15">15</option>
<option value="21" selected>21</option>
</select>

Sets:
<select id="setMode">
<option value="3">Best of 3</option>
<option value="5">Best of 5</option>
</select>

Mode:
<select id="matchType" onchange="updateMode()">
<option value="Singles">Singles</option>
<option value="Doubles">Doubles</option>
</select>

<button class="reset" onclick="resetAll()">RESET</button>
</div>

<div class="board">

<div class="team">
<div class="serve" id="serve1">üè∏</div>
<div class="names" id="name1" onclick="openModal(1)">Player A</div>
<div class="score white" id="score1">0</div>
<button class="btn plus" onclick="addPoint(1)">+</button>
<button class="btn minus" onclick="removePoint(1)">-</button>
</div>

<div class="team">
<div class="serve" id="serve2"></div>
<div class="names" id="name2" onclick="openModal(2)">Player B</div>
<div class="score white" id="score2">0</div>
<button class="btn plus" onclick="addPoint(2)">+</button>
<button class="btn minus" onclick="removePoint(2)">-</button>
</div>

</div>

<div class="setContainer" id="setBox"></div>

<!-- MODAL -->
<div class="modal" id="modal">
<div class="modalContent">
<h3>Edit Name</h3>
<div id="inputArea"></div>
<button class="saveBtn" onclick="saveName()">Save</button>
</div>
</div>

<script>

let score1=0, score2=0;
let sets1=0, sets2=0;
let server=1;
let editTeam=0;

function updateMode(){
    let mode=document.getElementById("matchType").value;
    if(mode=="Singles"){
        document.getElementById("name1").innerHTML="Player A";
        document.getElementById("name2").innerHTML="Player B";
    }else{
        document.getElementById("name1").innerHTML="Player A1<br>Player A2";
        document.getElementById("name2").innerHTML="Player B1<br>Player B2";
    }
}

function updateServe(){
    document.getElementById("serve1").innerHTML=server==1?"üè∏":"";
    document.getElementById("serve2").innerHTML=server==2?"üè∏":"";
}

function updateScore(){
    let gp=parseInt(document.getElementById("gamePoint").value);
    let need=Math.ceil(document.getElementById("setMode").value/2);

    let s1=document.getElementById("score1");
    let s2=document.getElementById("score2");

    s1.className="score white";
    s2.className="score white";

    /* Deuce */
    if(score1==gp-1 && score2==gp-1){
        s1.className="score white";
        s2.className="score white";
    }
    /* Game Point */
    else{
        if(score1>=gp-1 && score1>score2) s1.classList.add("red");
        if(score2>=gp-1 && score2>score1) s2.classList.add("red");
    }

    /* Match Point */
    if(sets1==need-1 && score1>=gp-1 && score1>score2){
        s1.classList.add("matchPoint");
    }
    if(sets2==need-1 && score2>=gp-1 && score2>score1){
        s2.classList.add("matchPoint");
    }

    s1.innerHTML=score1;
    s2.innerHTML=score2;
    updateServe();
}

function addPoint(t){
    if(t==1){score1++; server=1;}
    else{score2++; server=2;}
    updateScore();
    checkGame();
}

function removePoint(t){
    if(t==1 && score1>0) score1--;
    if(t==2 && score2>0) score2--;
    updateScore();
}

function checkGame(){
    let gp=parseInt(document.getElementById("gamePoint").value);
    if(score1>=gp && score1-score2>=2){
        saveSet(score1,score2);
        sets1++; nextSet();
    }
    if(score2>=gp && score2-score1>=2){
        saveSet(score2,score1);
        sets2++; nextSet();
    }
}

function saveSet(w,l){
    let div=document.createElement("div");
    div.className="setScore";
    div.innerHTML=w+"-"+l;
    document.getElementById("setBox").appendChild(div);
}

function nextSet(){
    score1=0; score2=0;
    server=server==1?2:1;
    updateScore();
}

function resetAll(){
    score1=0; score2=0;
    sets1=0; sets2=0;
    server=1;
    document.getElementById("setBox").innerHTML="";
    updateScore();
}

function openModal(t){
    editTeam=t;
    let mode=document.getElementById("matchType").value;
    let area=document.getElementById("inputArea");
    area.innerHTML="";
    if(mode=="Singles"){
        area.innerHTML='<input id="p1" placeholder="Player Name">';
    }else{
        area.innerHTML='<input id="p1" placeholder="Player 1"><input id="p2" placeholder="Player 2">';
    }
    document.getElementById("modal").style.display="flex";
}

function saveName(){
    let mode=document.getElementById("matchType").value;
    if(mode=="Singles"){
        let name=document.getElementById("p1").value;
        if(name!="") document.getElementById("name"+editTeam).innerHTML=name;
    }else{
        let n1=document.getElementById("p1").value;
        let n2=document.getElementById("p2").value;
        document.getElementById("name"+editTeam).innerHTML=n1+"<br>"+n2;
    }
    document.getElementById("modal").style.display="none";
}

updateScore();

</script>
</body>
</html>

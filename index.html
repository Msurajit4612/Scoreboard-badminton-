<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>International Match Scoreboard</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,sans-serif;}

body{
    background:#000;
    color:#fff;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    height:100vh;
}

h1{
    color:#ffcc00;
    margin-bottom:10px;
}

.scoreboard{
    display:flex;
    width:100%;
    height:65vh;
}

.team{
    flex:1;
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    align-items:center;
    padding:20px;
    position:relative;
}

.left{background:#111;}
.right{background:#1c1c1c;}

.names input{
    width:90%;
    padding:8px;
    margin:5px;
    font-size:18px;
    text-align:center;
    border-radius:8px;
    border:none;
}

.score{
    font-size:130px;
    font-weight:bold;
    transition:0.3s;
}

.game-point{
    color:red !important;
}

.controls{
    display:flex;
    gap:10px;
    margin-bottom:20px;
}

button{
    padding:15px 25px;
    font-size:22px;
    border:none;
    border-radius:10px;
    cursor:pointer;
}

.add{background:#00c853;}
.minus{background:#d50000;}

.serve{
    position:absolute;
    top:20px;
    right:20px;
    font-size:40px;
    display:none;
}

.match-history{
    margin-top:10px;
    text-align:center;
    font-size:22px;
    color:#ffcc00;
    min-height:70px;
}

.game-alert{
    color:red;
    font-weight:bold;
    height:25px;
}

.top-controls{
    margin-top:10px;
    display:flex;
    gap:15px;
}

.switch{background:#2962ff;}
.reset{background:#ff6f00;}
</style>
</head>

<body>

<h1>üè∏ INTERNATIONAL MATCH SCOREBOARD</h1>

<div class="scoreboard">

<div class="team left" id="teamLeft">
    <div class="serve" id="serve1">üè∏</div>
    <div>
        <input type="text" value="PLAYER A1">
        <input type="text" value="PLAYER A2">
    </div>
    <div class="score" id="score1">0</div>
    <div class="controls">
        <button class="add" onclick="addPoint(1)">+</button>
        <button class="minus" onclick="minusPoint(1)">-</button>
    </div>
</div>

<div class="team right" id="teamRight">
    <div class="serve" id="serve2">üè∏</div>
    <div>
        <input type="text" value="PLAYER B1">
        <input type="text" value="PLAYER B2">
    </div>
    <div class="score" id="score2">0</div>
    <div class="controls">
        <button class="add" onclick="addPoint(2)">+</button>
        <button class="minus" onclick="minusPoint(2)">-</button>
    </div>
</div>

</div>

<div class="game-alert" id="gamePointText"></div>

<div class="match-history" id="historyBox">
<!-- Completed game scores will appear here -->
</div>

<div class="top-controls">
    <button class="switch" onclick="manualSwitch()">Switch Sides</button>
    <button class="reset" onclick="resetMatch()">Reset Match</button>
</div>

<script>

let score1=0, score2=0;
let server=1;
let matchHistory=[];

updateServe();

function addPoint(team){
    if(team===1) score1++;
    else score2++;

    server=team;
    updateServe();
    checkGamePoint();
    checkGameWin();
    updateDisplay();
}

function minusPoint(team){
    if(team===1 && score1>0) score1--;
    if(team===2 && score2>0) score2--;
    checkGamePoint();
    updateDisplay();
}

function checkGamePoint(){

    let alertText="";
    document.getElementById("score1").classList.remove("game-point");
    document.getElementById("score2").classList.remove("game-point");

    if(score1===20 && score2<=19){
        alertText="GAME POINT - LEFT";
        document.getElementById("score1").classList.add("game-point");
    }

    if(score2===20 && score1<=19){
        alertText="GAME POINT - RIGHT";
        document.getElementById("score2").classList.add("game-point");
    }

    if(score1===29 && score2===29){
        alertText="NEXT POINT WINS";
        document.getElementById("score1").classList.add("game-point");
        document.getElementById("score2").classList.add("game-point");
    }

    document.getElementById("gamePointText").innerText=alertText;
}

function checkGameWin(){

if((score1>=21 || score2>=21) && Math.abs(score1-score2)>=2){

    saveGame();
}

if(score1===30 || score2===30){
    saveGame();
}

}

function saveGame(){

    matchHistory.push(score1 + "-" + score2);
    updateHistory();

    autoSwitchSides();

    score1=0;
    score2=0;
}

function updateHistory(){
    document.getElementById("historyBox").innerHTML =
        matchHistory.join("<br>");
}

function updateDisplay(){
document.getElementById("score1").innerText=score1;
document.getElementById("score2").innerText=score2;
}

function updateServe(){
document.getElementById("serve1").style.display = server===1 ? "block":"none";
document.getElementById("serve2").style.display = server===2 ? "block":"none";
}

function autoSwitchSides(){
let left=document.getElementById("teamLeft");
let right=document.getElementById("teamRight");
let temp=left.innerHTML;
left.innerHTML=right.innerHTML;
right.innerHTML=temp;
server = server===1?2:1;
updateServe();
}

function manualSwitch(){
autoSwitchSides();
}

function resetMatch(){
score1=0;score2=0;
matchHistory=[];
updateDisplay();
updateHistory();
document.getElementById("gamePointText").innerText="";
server=1;
updateServe();
}

</script>

</body>
</html>
